<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Comprehensive guide to single-cell drug response prediction methods">
    <title>Single-Cell Drug Response Prediction - AI4Bio Learning Hub</title>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KSMFMG4TD5"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-KSMFMG4TD5');
    </script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== BASE STYLES ===== */
        body {
            font-family: 'Lato', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            line-height: 1.7;
            color: #333;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* ===== NAVIGATION ===== */
        .navbar {
            background-color: #ffffff;
            border-bottom: 1px solid #e7e7e7;
            padding: 10px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .navbar-nav {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }

        .navbar-nav li {
            margin: 5px 15px;
        }

        .navbar-nav a {
            color: #666666;
            text-decoration: none;
            font-weight: bold;
            font-size: 16px;
            transition: color 0.3s;
        }

        .navbar-nav a:hover {
            color: #8FC50E;
        }

        .home-link {
            color: #8FC50E !important;
        }

        /* ===== HEADER ===== */
        .header {
            background: linear-gradient(135deg, #8FC50E 0%, #A9D563 100%);
            color: white;
            padding: 50px 40px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 4px 20px rgba(143, 197, 14, 0.3);
        }

        .header h1 {
            margin: 0 0 15px 0;
            font-size: 2.8em;
        }

        .header .subtitle {
            font-size: 1.3em;
            opacity: 0.95;
            margin-bottom: 15px;
        }

        .header .description {
            font-size: 1.05em;
            max-width: 900px;
            margin: 0 auto;
            line-height: 1.8;
        }

        /* ===== STATISTICS BAR ===== */
        .stats-bar {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            border-left: 3px solid #8FC50E;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #8FC50E;
            display: block;
        }

        .stat-label {
            color: #666;
            font-size: 0.95em;
            margin-top: 5px;
        }

        /* ===== CONTENT SECTIONS ===== */
        .content-section {
            background: white;
            padding: 35px;
            border-radius: 15px;
            margin: 25px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .content-section h2 {
            color: #6b8e23;
            border-bottom: 3px solid #8FC50E;
            padding-bottom: 10px;
            margin-bottom: 25px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .content-section h3 {
            color: #7ab800;
            margin-top: 30px;
            margin-bottom: 20px;
            font-size: 1.4em;
        }

        .content-section ul {
            line-height: 2;
        }

        .category-intro {
            background: #f8fcf0;
            border-left: 4px solid #A9D563;
            padding: 15px;
            margin-bottom: 25px;
            color: #555;
            font-style: italic;
        }

        /* ===== INTERACTIVE DEMO STYLES ===== */
        .demo-container {
            background: #fcfcfc;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .demo-controls {
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .demo-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-family: 'Lato', sans-serif;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .btn-control { background: #e0e0e0; color: #555; }
        .btn-control:hover, .btn-control.active { background: #bdbdbd; color: #333; }

        .btn-drugA { background: #8FC50E; color: white; }
        .btn-drugA:hover, .btn-drugA.active { background: #7ab800; transform: translateY(-2px); }

        .btn-drugB { background: #FF6B6B; color: white; }
        .btn-drugB:hover, .btn-drugB.active { background: #ee5253; transform: translateY(-2px); }

        .svg-canvas {
            background: #f4f6f8;
            border-radius: 8px;
            border: 1px solid #ddd;
            cursor: crosshair;
            width: 100%;
            max-width: 800px;
            height: 400px;
            margin: 0 auto;
            display: block;
        }

        .cell-dot {
            transition: cx 1s ease-in-out, cy 1s ease-in-out, fill 0.5s, r 0.5s;
        }

        .demo-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
            font-size: 0.85em;
            color: #666;
        }
        .legend-dot { width: 10px; height: 10px; display: inline-block; border-radius: 50%; margin-right: 5px; }

        /* ===== PAPER CARDS ===== */
        .paper-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .paper-card {
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            background: #fafafa;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .paper-card:hover {
            border-color: #8FC50E;
            box-shadow: 0 6px 20px rgba(143, 197, 14, 0.2);
            transform: translateY(-3px);
        }

        .paper-card h4 {
            color: #6b8e23;
            margin-top: 0;
            font-size: 1.15em;
            line-height: 1.4;
        }

        .paper-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 12px 0;
        }

        .meta-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75em;
            font-weight: bold;
        }

        .year-badge { background: #8FC50E; color: white; }
        .journal-badge { background: #E8F5D8; color: #556b2f; }
        
        /* Category Badges */
        .foundation-badge { background: #FFD93D; color: #333; }
        .transfer-badge { background: #4ECDC4; color: white; }
        .gen-badge { background: #FF6B6B; color: white; }
        .mech-badge { background: #9370DB; color: white; }
        .screen-badge { background: #A9D563; color: white; }
        .review-badge { background: #9B59B6; color: white; }
        .multi-badge { background: #1ABC9C; color: white; }

        .paper-description {
            color: #555;
            font-size: 0.9em;
            line-height: 1.6;
            margin: 12px 0;
            flex-grow: 1;
        }

        .paper-links {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 12px;
        }

        .paper-link {
            display: inline-block;
            padding: 6px 12px;
            background: #8FC50E;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-size: 0.8em;
            transition: all 0.3s;
        }

        .paper-link:hover {
            background: #A9D563;
            transform: translateX(2px);
        }

        /* ===== HIGHLIGHT BOXES ===== */
        .highlight-box {
            background: linear-gradient(135deg, #f0f9e8 0%, #e8f5d8 100%);
            border-left: 4px solid #8FC50E;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .highlight-box h4 {
            color: #6b8e23;
            margin-top: 0;
        }

        /* ===== FOOTER ===== */
        footer {
            background: white;
            padding: 30px;
            text-align: center;
            border-radius: 10px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        footer a {
            color: #8FC50E;
            text-decoration: none;
            font-weight: bold;
        }

        /* ===== CONCEPT FIGURES (HORIZONTAL) ===== */
        .concept-figure {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
            border: 1px solid #e0e0e0;
        }

        .concept-figure img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
        }

        .concept-figure .figure-caption {
            font-size: 0.9em;
            color: #666;
            font-style: italic;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
            line-height: 1.6;
        }

        .concept-figure .figure-title {
            font-weight: bold;
            color: #6b8e23;
            font-size: 1.1em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .concept-figure .figure-title i {
            color: #8FC50E;
        }

        .concept-figure.full-width {
            padding: 30px;
        }

        .concept-figure.highlight {
            border-left: 4px solid #8FC50E;
            background: linear-gradient(to right, #f8fcf0, white);
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .paper-grid { grid-template-columns: 1fr; }
            .header h1 { font-size: 2em; }
            .concept-figure { padding: 15px; }
            .concept-figure .figure-title { font-size: 1em; }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <ul class="navbar-nav">
                <li>
                    <a href="https://xqiu625.github.io/ai4bio-concepts/" class="home-link">
                        <i class="fas fa-book"></i> Back to Learning Hub
                    </a>
                </li>
                <li>
                    <a href="https://xqiu625.github.io/">
                        <i class="fas fa-home"></i> Xinru's Homepage
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <main>
        <div class="container">
            <!-- Header -->
            <div class="header">
                <h1>ðŸ§¬ Single-Cell Drug Response Prediction</h1>
                <p class="subtitle">A User-Intent Guided Repository (2021-2025)</p>
                <p class="description">
                    Navigating the landscape of computational pharmacology. Whether you need zero-shot 
                    prediction on unseen cell types, mechanistic pathway interpretation, or large-scale screening 
                    simulations, find the right AI tool for your specific biological question.
                </p>
            </div>

            <!-- Statistics -->
            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-number">33</span>
                    <span class="stat-label">Curated Methods</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">6</span>
                    <span class="stat-label">Years (2021-2026)</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">100M+</span>
                    <span class="stat-label">Largest Training Set</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">8</span>
                    <span class="stat-label">Categories</span>
                </div>
            </div>

            <!-- Method Landscape Overview Figure -->
            <div class="concept-figure full-width highlight">
                <div class="figure-title">
                    <i class="fas fa-sitemap"></i>
                    Figure: The Method Landscape â€” Taxonomy by Learning Paradigm
                </div>
                <img src="figures/The_Method_Landscape___Taxonomy_by_Learning_Paradigm.jpeg" alt="The Method Landscape - Taxonomy by Learning Paradigm">
                <div class="figure-caption">
                    <strong>Navigate the field at a glance:</strong> A hierarchical organization of all 33+ methods by their underlying ML paradigm â€” 
                    <span style="color: #3B82F6; font-weight: bold;">Discriminative</span> (predict labels/scores), 
                    <span style="color: #F7A254; font-weight: bold;">Generative</span> (predict post-treatment states), 
                    <span style="color: #9333EA; font-weight: bold;">Multi-modal</span> (integrate modalities), and 
                    <span style="color: #22C55E; font-weight: bold;">Agentic</span> (autonomous pipelines). 
                    Use the Quick Selection Guide to find the best starting point for your specific task.
                </div>
            </div>

            <!-- Interactive Concept -->
            <section class="content-section" id="interactive-demo">
                <h2>ðŸŽ® Concept: The Perturbation Vector</h2>
                <p>
                    Before exploring specific tools, visualize the core challenge: moving a cell from a "Control" state 
                    to a "Treated" state. Modern AI methods (like CRISP) learn this <strong>vector field</strong> in high-dimensional space, while methods like State account for resistant <strong>subpopulations</strong>.
                </p>
                
                <div class="demo-container">
                    <div class="demo-controls">
                        <button class="demo-btn btn-control active" onclick="setDemoState('control')">
                            <i class="fas fa-undo"></i> Control State
                        </button>
                        <button class="demo-btn btn-drugA" onclick="setDemoState('drugA')">
                            <i class="fas fa-pills"></i> Effective Drug (Vector Shift)
                        </button>
                        <button class="demo-btn btn-drugB" onclick="setDemoState('drugB')">
                            <i class="fas fa-shield-virus"></i> Resistant (Heterogeneity)
                        </button>
                    </div>

                    <svg class="svg-canvas" id="perturbationSvg" viewBox="0 0 800 400" preserveAspectRatio="xMidYMid meet">
                        <g stroke="#e0e0e0" stroke-width="1">
                            <line x1="0" y1="50" x2="800" y2="50" />
                            <line x1="0" y1="150" x2="800" y2="150" />
                            <line x1="0" y1="250" x2="800" y2="250" />
                            <line x1="0" y1="350" x2="800" y2="350" />
                            <line x1="100" y1="0" x2="100" y2="400" />
                            <line x1="300" y1="0" x2="300" y2="400" />
                            <line x1="500" y1="0" x2="500" y2="400" />
                            <line x1="700" y1="0" x2="700" y2="400" />
                        </g>
                        <text x="400" y="390" text-anchor="middle" fill="#999" font-size="12">Gene Expression Dimension 1</text>
                        <text x="10" y="200" text-anchor="middle" fill="#999" font-size="12" transform="rotate(-90 10,200)">Dimension 2</text>
                        <g id="cellsGroup"></g>
                    </svg>
                    
                    <div class="demo-legend">
                        <div><span class="legend-dot" style="background:#ccc"></span>Control</div>
                        <div><span class="legend-dot" style="background:#8FC50E"></span>Sensitive</div>
                        <div><span class="legend-dot" style="background:#FF6B6B"></span>Resistant</div>
                    </div>
                </div>
            </section>

            <!-- Core Problem Conceptual Figure -->
            <div class="concept-figure full-width">
                <div class="figure-title">
                    <i class="fas fa-bullseye"></i>
                    Figure: The Core Problem â€” Perturbation Prediction as Vector Field Learning
                </div>
                <img src="figures/The_Core_Problem___Perturbation_Prediction_as_Vector_Field_Learning.jpeg" alt="The Core Problem: Perturbation Prediction as Vector Field Learning">
                <div class="figure-caption">
                    <strong>Understanding the ML formulation:</strong> Drug response prediction is NOT binary classification â€” it's learning a conditional transformation. 
                    <em>Left:</em> The biological question of predicting how cells change after treatment (X<sub>treated</sub> = f(X<sub>control</sub>, d)). 
                    <em>Center:</em> Modern methods (CRISP, State, CellOT) predict vector fields Î”x or transport maps T: P(control) â†’ P(treated). 
                    <em>Right:</em> Why single-cell resolution matters â€” bulk RNA-seq averages hide resistant subpopulations that determine treatment failure.
                </div>
            </div>

            <!-- CATEGORY 1: Foundation Models & Transfer Learning -->
            <section class="content-section">
                <h2>ðŸš€ Foundation Models & Transfer Learning</h2>
                <div class="category-intro">
                    <i class="fas fa-quote-left"></i> 
                    <strong>Goal:</strong> "I want to predict drug responses in <em>new</em> cell types or tissues that weren't in my training data, leveraging massive pre-trained knowledge."
                </div>
                
                <div class="paper-grid">
                    <!-- CRISP -->
                    <div class="paper-card">
                        <h4>CRISP</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge foundation-badge">Foundation Transfer</span>
                        </div>
                        <p class="paper-description">
                            Uses embeddings from large foundation models (like scGPT) to enable zero-shot prediction of drug responses in unseen cell types. It maps perturbation effects across different cellular contexts.
                        </p>
                        <div class="paper-links">
                            <a href="https://doi.org/10.1038/s43588-025-00887-6" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/LiuLab/CRISP" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- State -->
                    <div class="paper-card">
                        <h4>State</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge foundation-badge">Transformer</span>
                        </div>
                        <p class="paper-description">
                            A general-purpose Transformer trained on 100M+ cells. Uses set-based attention to model how entire populations of cells shift states under perturbation, rather than just single cells.
                        </p>
                        <div class="paper-links">
                            <a href="https://www.biorxiv.org/content/10.1101/2025.06.26.661135v2.full" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/ArcInstitute/State" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- scFoundation -->
                    <div class="paper-card">
                        <h4>scFoundation</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2024</span>
                            <span class="meta-badge foundation-badge">100M Params</span>
                        </div>
                        <p class="paper-description">
                            Large-scale pre-trained model on 50M+ cells using xTrimoGene architecture. Offers zero-shot capabilities for various downstream tasks, including drug response classification.
                        </p>
                        <div class="paper-links">
                            <a href="https://www.nature.com/articles/s41592-024-02305-7" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/biomap-research/scFoundation" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- TransCDR (formerly TransDRP) -->
                    <div class="paper-card">
                        <h4>TransCDR</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2024</span>
                            <span class="meta-badge transfer-badge">Domain Adaptation</span>
                        </div>
                        <p class="paper-description">
                            A deep learning model for cancer drug response prediction that transfers knowledge from bulk RNA-seq cell line data to single-cell patient data.
                        </p>
                        <div class="paper-links">
                            <a href="https://bmcbiol.biomedcentral.com/articles/10.1186/s12915-024-02023-8" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                        </div>
                    </div>

                    <!-- scDEAL -->
                    <div class="paper-card">
                        <h4>scDEAL</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2022</span>
                            <span class="meta-badge transfer-badge">Deep Transfer</span>
                        </div>
                        <p class="paper-description">
                            Deep transfer learning framework that integrates bulk and single-cell RNA-seq to predict cancer drug responses, harmonizing feature spaces between the two modalities.
                        </p>
                        <div class="paper-links">
                            <a href="https://www.nature.com/articles/s41467-022-34277-7" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/OSU-BMBL/scDEAL" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- C2S-Scale -->
                    <div class="paper-card">
                        <h4>C2S-Scale</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge foundation-badge">27B LLM</span>
                        </div>
                        <p class="paper-description">
                            LLMs (up to 27B params) trained on 1B+ transcriptomic tokens using Cell2Sentence. Enables zero-shot cell classification, perturbation prediction, and experimentally validated virtual drug screening.
                        </p>
                        <div class="paper-links">
                            <a href="https://doi.org/10.1101/2025.04.14.648850" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://c2s-scale.org" class="paper-link" target="_blank"><i class="fas fa-globe"></i> Website</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CATEGORY 2: Generative Perturbation & Simulation -->
            <section class="content-section">
                <h2>ðŸ§ª Generative Perturbation (The "What If" Engines)</h2>
                <div class="category-intro">
                    <i class="fas fa-quote-left"></i> 
                    <strong>Goal:</strong> "I want to generate a synthetic gene expression profile or image of what a specific cell would look like <em>after</em> treatment."
                </div>

                <div class="paper-grid">
                    <!-- CellOT -->
                    <div class="paper-card">
                        <h4>CellOT</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2023</span>
                            <span class="meta-badge gen-badge">Optimal Transport</span>
                        </div>
                        <p class="paper-description">
                            Uses Neural Optimal Transport to learn a mapping between untreated and treated cell populations. Unlike standard style transfer, it respects the mathematical geometry of the cell state space.
                        </p>
                        <div class="paper-links">
                            <a href="https://doi.org/10.1038/s41592-023-01969-x" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                        </div>
                    </div>

                    <!-- FCR -->
                    <div class="paper-card">
                        <h4>FCR</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2024</span>
                            <span class="meta-badge gen-badge">Causal VAE</span>
                        </div>
                        <p class="paper-description">
                            Factorized Causal Representations. A VAE that disentangles cell identity from treatment effects, allowing for the generation of "counterfactual" single-cell states (e.g., "What if this specific cell had been treated?").
                        </p>
                        <div class="paper-links">
                            <a href="https://openreview.net/forum?id=AhlaBDHMQh" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/Genentech/fcr" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- IMPA -->
                    <div class="paper-card">
                        <h4>IMPA</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge gen-badge">Image GAN</span>
                        </div>
                        <p class="paper-description">
                            Generative model for morphological perturbations. Uses style transfer GANs to predict how cell shape and structure change under chemical or genetic perturbation from microscopy images.
                        </p>
                        <div class="paper-links">
                            <a href="https://doi.org/10.1038/s41467-024-55707-8" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/theislab/IMPA" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- SAMS-VAE -->
                    <div class="paper-card">
                        <h4>SAMS-VAE</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2023</span>
                            <span class="meta-badge gen-badge">Sparse VAE</span>
                        </div>
                        <p class="paper-description">
                            Sparse Additive Mechanism Shift VAE. Models perturbation effects as sparse, additive shifts in latent space. Enables interpretable and composable predictions for drug combinations.
                        </p>
                        <div class="paper-links">
                            <a href="https://arxiv.org/abs/2311.02794" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/insitro/sams-vae" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- MORPH -->
                    <div class="paper-card">
                        <h4>MORPH</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge gen-badge">Cross-Modal VAE</span>
                        </div>
                        <p class="paper-description">
                            Discrepancy-based VAE with attention for predicting perturbation outcomes across conditions and data modalities. First method to handle both transcriptomic and imaging data in a unified framework.
                        </p>
                        <div class="paper-links">
                            <a href="https://doi.org/10.1101/2025.06.27.661992" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/uhlerlab/MORPH" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CATEGORY 3: Mechanism, Pathways & Interpretability -->
            <section class="content-section">
                <h2>ðŸ§¬ Mechanism & Interpretability</h2>
                <div class="category-intro">
                    <i class="fas fa-quote-left"></i> 
                    <strong>Goal:</strong> "I don't just want a prediction; I want to understand <em>why</em> a cell is sensitive. Which pathways or gene sets are driving the response?"
                </div>

                <div class="paper-grid">
                    <!-- scPDS -->
                    <div class="paper-card">
                        <h4>scPDS</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge mech-badge">Pathway Transformer</span>
                        </div>
                        <p class="paper-description">
                            Transforms gene expression into pathway activation scores before processing. Uses self-attention to capture interactions between biological pathways, offering high interpretability.
                        </p>
                        <div class="paper-links">
                            <a href="https://pubmed.ncbi.nlm.nih.gov/39962810/" class="paper-link" target="_blank"><i class="fas fa-book"></i> PubMed</a>
                        </div>
                    </div>

                    <!-- scGSDR -->
                    <div class="paper-card">
                        <h4>scGSDR</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge mech-badge">Gene Semantics</span>
                        </div>
                        <p class="paper-description">
                            Gene semantics-based profiling. It integrates cellular states with signaling pathways to identify interpretable resistance phenotypes rather than just black-box probabilities.
                        </p>
                        <div class="paper-links">
                            <a href="https://www.nature.com/articles/s42003-025-08788-0" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/ChrisOliver2345/scGSDR" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- scDrug+ -->
                    <div class="paper-card">
                        <h4>scDrug+</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2024</span>
                            <span class="meta-badge mech-badge">GRN</span>
                        </div>
                        <p class="paper-description">
                            Matrix factorization and SVM with molecular fingerprints show superior performance. Published in <em>Biomedicine & Pharmacotherapy</em>.
                        </p>
                        <div class="paper-links">
                            <a href="https://www.sciencedirect.com/science/article/pii/S0753332224009545" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/ailabstw/scDrug" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- Beyondcell -->
                    <div class="paper-card">
                        <h4>Beyondcell</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2021</span>
                            <span class="meta-badge mech-badge">Enrichment</span>
                        </div>
                        <p class="paper-description">
                            Uses drug signatures (collections of genes targeted by drugs) to calculate an enrichment score for each single cell, determining its "therapeutic state."
                        </p>
                        <div class="paper-links">
                            <a href="https://genomemedicine.biomedcentral.com/articles/10.1186/s13073-021-01001-x" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/cnio-bu/beyondcell" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CATEGORY 4: Drug Synergy, Prioritization & Screening -->
            <section class="content-section">
                <h2>ðŸŽ¯ Synergy, Prioritization & Screening</h2>
                <div class="category-intro">
                    <i class="fas fa-quote-left"></i> 
                    <strong>Goal:</strong> "I have a patient sample. Which drug (or combination of drugs) should I prioritize for treatment?"
                </div>

                <div class="paper-grid">
                    <!-- BAITSAO -->
                    <div class="paper-card">
                        <h4>BAITSAO</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge screen-badge">LLM Synergy</span>
                        </div>
                        <p class="paper-description">
                            Unified drug synergy model powered by GPT-3.5 embeddings. It predicts how two drugs will interact (synergy/antagonism) across hundreds of thousands of combinations.
                        </p>
                        <div class="paper-links">
                            <a href="https://doi.org/10.1038/s41467-025-59822-y" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/HelloWorldLTY/BAITSAO" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- scDrugPrio -->
                    <div class="paper-card">
                        <h4>scDrugPrio</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2024</span>
                            <span class="meta-badge screen-badge">Prioritization</span>
                        </div>
                        <p class="paper-description">
                            An unbiased cell type-centric framework that prioritizes drugs based on single-cell disease signatures, helping identify candidates for repurposing.
                        </p>
                        <div class="paper-links">
                            <a href="https://genomemedicine.biomedcentral.com/articles/10.1186/s13073-024-01314-7" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/SDTC-CPMed/scDrugPrio" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- scPharm -->
                    <div class="paper-card">
                        <h4>scPharm</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge screen-badge">Subpopulations</span>
                        </div>
                        <p class="paper-description">
                            Identifies pharmacological subpopulations of single cells to reveal cell-type-specific vulnerabilities, aiding in precision oncology.
                        </p>
                        <div class="paper-links">
                            <a href="https://advanced.onlinelibrary.wiley.com/doi/10.1002/advs.202412419" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/WangHYLab/scPharm" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- ASGARD -->
                    <div class="paper-card">
                        <h4>ASGARD</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2023</span>
                            <span class="meta-badge screen-badge">Repurposing</span>
                        </div>
                        <p class="paper-description">
                            Single-cell Guided pipeline to Aid Repurposing of Drugs. Designed to connect cell-specific targets to existing drug databases for new indications.
                        </p>
                        <div class="paper-links">
                            <a href="https://www.nature.com/articles/s41467-023-36637-3" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/lanagarmire/ASGARD" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- CaDRReS-Sc -->
                    <div class="paper-card">
                        <h4>CaDRReS-Sc</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2021</span>
                            <span class="meta-badge screen-badge">Recommender</span>
                        </div>
                        <p class="paper-description">
                            A matrix factorization-based recommender system (like Netflix for drugs) that predicts clone-specific therapeutic vulnerabilities.
                        </p>
                        <div class="paper-links">
                            <a href="https://genomemedicine.biomedcentral.com/articles/10.1186/s13073-021-01000-y" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/CSB5/CaDRReS-Sc" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>

                    <!-- DrugReflector -->
                    <div class="paper-card">
                        <h4>DrugReflector</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge screen-badge">Active Learning</span>
                        </div>
                        <p class="paper-description">
                            Deep learning ensemble trained on CMap signatures. Uses active reinforcement learning to iteratively refine hit discovery, achieving 13-17Ã— improvement over random screening.
                        </p>
                        <div class="paper-links">
                            <a href="https://doi.org/10.1126/science.adi8577" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Science</a>
                        </div>
                    </div>

                    <!-- PBMF -->
                    <div class="paper-card">
                        <h4>PBMF</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge screen-badge">Biomarker</span>
                        </div>
                        <p class="paper-description">
                            Predictive Biomarker Modeling Framework uses contrastive learning to distinguish treatment-specific predictive biomarkers from prognostic markers, improving clinical trial patient selection.
                        </p>
                        <div class="paper-links">
                            <a href="https://doi.org/10.1016/j.ccell.2025.03.029" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Cancer Cell</a>
                            <a href="https://doi.org/10.5281/zenodo.14766044" class="paper-link" target="_blank"><i class="fab fa-github"></i> Zenodo</a>
                        </div>
                    </div>

                    <!-- Combocat -->
                    <div class="paper-card">
                        <h4>Combocat</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge screen-badge">Combination</span>
                        </div>
                        <p class="paper-description">
                            Open-source platform combining acoustic liquid handling with ML for drug combination screening. Sparse mode reduces measurements by 90% to enable the largest single-cell-line combo screen (9,045 pairs).
                        </p>
                        <div class="paper-links">
                            <a href="https://doi.org/10.1038/s41467-025-66223-8" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://github.com/wcwr/combocat" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CATEGORY 5: Multi-Modal (Beyond RNA) -->
            <section class="content-section">
                <h2>ðŸ“¸ Multi-Modal & Morphological</h2>
                <div class="category-intro">
                    <i class="fas fa-quote-left"></i> 
                    <strong>Goal:</strong> "I have image data (Cell Painting) or want to link molecular structures to phenotypes."
                </div>

                <!-- Multi-Modal Integration Figure -->
                <div class="concept-figure full-width">
                    <div class="figure-title">
                        <i class="fas fa-layer-group"></i>
                        Figure: Multi-Modal Integration â€” Beyond Transcriptomics
                    </div>
                    <img src="figures/Multi-Modal_Integration___Beyond_Transcriptomics.jpeg" alt="Multi-Modal Integration - Beyond Transcriptomics">
                    <div class="figure-caption">
                        <strong>Two paradigms for integrating imaging with drug response:</strong> 
                        <em>Left (MolPhenix):</em> Contrastive learning aligns Cell Painting images with molecular structures for zero-shot drug retrieval â€” "find molecules that produce THIS phenotype."
                        <em>Right (GigaTIME):</em> Translates cheap H&E slides into virtual 21-channel multiplex immunofluorescence (IF), predicting immunotherapy response biomarkers (CD8, PD-L1) as accurately as real IF.
                        <em>Bottom:</em> Why multi-modal matters â€” complementary information at different cost points enables cross-modal prediction as cheap proxy for expensive assays.
                    </div>
                </div>

                <div class="paper-grid">
                    <!-- MolPhenix -->
                    <div class="paper-card">
                        <h4>MolPhenix</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2024</span>
                            <span class="meta-badge gen-badge">Image-to-Drug</span>
                        </div>
                        <p class="paper-description">
                            Contrastive phenomolecular retrieval framework. It matches cell-painting images to molecular structures in a zero-shot manner, enabling virtual screening based on phenotype.
                        </p>
                        <div class="paper-links">
                            <a href="https://arxiv.org/abs/2409.08302" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> ArXiv</a>
                            <a href="https://www.youtube.com/watch?v=4d9BcFIOEEI" class="paper-link" target="_blank"><i class="fab fa-youtube"></i> Video</a>
                        </div>
                    </div>

                    <!-- GigaTIME -->
                    <div class="paper-card">
                        <h4>GigaTIME</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2026</span>
                            <span class="meta-badge multi-badge">Virtual mIF</span>
                        </div>
                        <p class="paper-description">
                            Cross-modal AI that translates H&E slides into virtual 21-channel multiplex IF images (40M cells trained). Enables population-scale tumor immune microenvironment analysis for drug response.
                        </p>
                        <div class="paper-links">
                            <a href="https://doi.org/10.1016/j.cell.2025.11.016" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Cell</a>
                            <a href="https://aka.ms/gigatime_code" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CATEGORY 6: Resources & Databases -->
            <section class="content-section">
                <h2>ðŸ“š Atlases, Databases & Benchmarks</h2>
                <div class="category-intro">
                    <i class="fas fa-quote-left"></i> 
                    <strong>Goal:</strong> "I need data to train my own model, or a standardized benchmark to test it."
                </div>

                <div class="paper-grid">
                    <!-- Tahoe-100M -->
                    <div class="paper-card">
                        <h4>Tahoe-100M</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge journal-badge">bioRxiv</span>
                        </div>
                        <p class="paper-description">
                            The largest single-cell perturbation atlas to date (95.6M cells). Profiles 1,100 small-molecule perturbations across 50 cancer cell lines. The "ImageNet" of perturbation biology.
                        </p>
                        <div class="paper-links">
                            <a href="https://doi.org/10.1101/2025.02.20.639398" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                        </div>
                    </div>

                    <!-- ScDrugAct -->
                    <div class="paper-card">
                        <h4>ScDrugAct</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge journal-badge">NAR</span>
                        </div>
                        <p class="paper-description">
                            A comprehensive database characterizing drug activity at the single-cell level. Useful for retrieving reference activity signatures for specific compounds.
                        </p>
                        <div class="paper-links">
                            <a href="https://academic.oup.com/nar/article/53/D1/D1536/7889238" class="paper-link" target="_blank"><i class="fas fa-database"></i> Database</a>
                        </div>
                    </div>

                    <!-- TDC-2 -->
                    <div class="paper-card">
                        <h4>TDC-2</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2024</span>
                            <span class="meta-badge journal-badge">NeurIPS</span>
                        </div>
                        <p class="paper-description">
                            Therapeutics Data Commons 2. The gold standard for benchmarking. Includes specific tasks for single-cell drug target identification and perturbation prediction.
                        </p>
                        <div class="paper-links">
                            <a href="https://tdcommons.ai/multi_pred_tasks/scdti/" class="paper-link" target="_blank"><i class="fas fa-globe"></i> Website</a>
                            <a href="https://www.biorxiv.org/content/10.1101/2024.06.12.598655v3" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                        </div>
                    </div>

                    <!-- scDrug (Workflow) -->
                    <div class="paper-card">
                        <h4>scDrug (Workflow)</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2022</span>
                            <span class="meta-badge journal-badge">CSBJ</span>
                        </div>
                        <p class="paper-description">
                            A one-stop software pipeline that takes raw scRNA-seq data and performs analysis through to drug response prediction. Good for users wanting a complete "box" solution.
                        </p>
                        <div class="paper-links">
                            <a href="https://pubmed.ncbi.nlm.nih.gov/36544472/" class="paper-link" target="_blank"><i class="fas fa-book"></i> PubMed</a>
                            <a href="https://github.com/ailabstw/scDrug" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CATEGORY 7: AI Agents & Decision Support -->
            <section class="content-section">
                <h2>ðŸ¤– AI Agents & Clinical Decision Support</h2>
                <div class="category-intro">
                    <i class="fas fa-quote-left"></i>
                    <strong>Goal:</strong> "I want autonomous AI systems that can orchestrate multi-step drug discovery workflows or support clinical decisions."
                </div>

                <div class="paper-grid">
                    <!-- Agentic AI Review -->
                    <div class="paper-card">
                        <h4>Agentic AI in Drug Discovery</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge review-badge">Review</span>
                        </div>
                        <p class="paper-description">
                            Comprehensive review of LLM-based agents with perception, computation, action, and memory tools. Documents case studies compressing drug discovery workflows from months to hours.
                        </p>
                        <div class="paper-links">
                            <a href="https://arxiv.org/abs/2510.27130" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> arXiv</a>
                        </div>
                    </div>

                    <!-- MTBBench -->
                    <div class="paper-card">
                        <h4>MTBBench</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge journal-badge">NeurIPS</span>
                        </div>
                        <p class="paper-description">
                            First agentic benchmark for molecular tumor board-style decisions. Tests multimodal, longitudinal reasoning with tool-augmented agents achieving 11.2% gains over baseline LLMs.
                        </p>
                        <div class="paper-links">
                            <a href="https://github.com/bunnelab/MTBBench" class="paper-link" target="_blank"><i class="fab fa-github"></i> GitHub</a>
                            <a href="https://huggingface.co/datasets/EeshaanJain/MTBBench" class="paper-link" target="_blank"><i class="fas fa-database"></i> Data</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CATEGORY 8: Experimental Platforms & Translational -->
            <section class="content-section">
                <h2>ðŸ§« Experimental Platforms & Translational Tools</h2>
                <div class="category-intro">
                    <i class="fas fa-quote-left"></i>
                    <strong>Goal:</strong> "I need integrated wet-lab and computational platforms for drug testing or personalized therapy design."
                </div>

                <!-- Translational Gap Figure -->
                <div class="concept-figure full-width">
                    <div class="figure-title">
                        <i class="fas fa-road"></i>
                        Figure: From Prediction to Clinic â€” The Translational Gap
                    </div>
                    <img src="figures/From_Prediction_to_Clinic___The_Translational_Gap.jpeg" alt="From Prediction to Clinic - The Translational Gap">
                    <div class="figure-caption">
                        <strong>The complete pipeline from computation to clinical trial:</strong> 
                        <em>Top:</em> Three-stage flow from scRNA-seq â†’ AI Model â†’ Prediction â†’ Experimental Validation â†’ Clinical Trial.
                        <em>Middle:</em> Two validation case studies â€” Tumor-on-a-Chip (Nat Biotech 2025) enhances CAR-T trafficking through DPP4 inhibition (vildagliptin) via CXCR3-CXCL10/11 axis; MTBBench benchmarks AI clinical decision support showing tool-augmented agents reach 69% agreement with experts.
                        <em>Bottom:</em> The validation hierarchy from in silico (publication) through in vitro, ex vivo, animal models, to human trials (FDA approval). Current frontier: Tahoe-100M and Tumor-on-a-Chip pushing methods to Level 2-3.
                    </div>
                </div>

                <div class="paper-grid">
                    <!-- Tumor-on-a-Chip -->
                    <div class="paper-card">
                        <h4>Tumor-on-a-Chip for CAR-T</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge journal-badge">Nat Biotech</span>
                        </div>
                        <p class="paper-description">
                            Microengineered tumor-on-a-chip enabling vascularized human tumor explants and CAR-T cell perfusion. Identified DPP4/CXCR3 axis as combination therapy target via ligand-receptor analysis.
                        </p>
                        <div class="paper-links">
                            <a href="https://doi.org/10.1038/s41587-025-02845-z" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                        </div>
                    </div>

                    <!-- CancerPAM -->
                    <div class="paper-card">
                        <h4>CancerPAM</h4>
                        <div class="paper-meta">
                            <span class="meta-badge year-badge">2025</span>
                            <span class="meta-badge journal-badge">Nat Comm</span>
                        </div>
                        <p class="paper-description">
                            Multi-omics pipeline for personalized CRISPR gene therapy. Identifies tumor-specific PAM sites for cytokine knock-in to remodel tumor microenvironment and enhance CAR-T efficacy.
                        </p>
                        <div class="paper-links">
                            <a href="https://doi.org/10.1038/s41467-025-67328-w" class="paper-link" target="_blank"><i class="fas fa-file-alt"></i> Paper</a>
                            <a href="https://codeocean.com/capsule/7671597/tree/v1" class="paper-link" target="_blank"><i class="fab fa-github"></i> Code</a>
                        </div>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <!-- Footer -->
    <footer>
        <p style="font-size: 1.1em;">
            Part of the <a href="../">AI4Bio Learning Hub</a> by Xinru Qiu
        </p>
        <p style="font-size: 0.9em; margin-top: 15px;">
            Last updated: December 2025 
        </p>
        <p style="font-size: 0.85em; color: #999; margin-top: 10px;">
            <i class="fas fa-envelope"></i>
            <a href="mailto:xinru.reina.qiu@gmail.com" style="color: #999;">xinru.reina.qiu@gmail.com</a> |
            <i class="fab fa-github"></i>
            <a href="https://github.com/xqiu625" style="color: #999;">GitHub</a>
        </p>
        <p style="font-size: 0.8em; margin-top: 15px; color: #888;">
            ðŸ”’ Privacy: This site uses Google Analytics to improve content. No personal data is collected.<br>
            Content released under CC BY 4.0.
        </p>
    </footer>
</body>
</html>
    
    <!-- JAVASCRIPT FOR INTERACTIVE DEMO -->
    <script>
        // Configuration
        const numCells = 50; // Slightly reduced for cleaner vector lines
        const svg = document.getElementById('perturbationSvg');
        const cellsGroup = document.getElementById('cellsGroup');
        
        let cells = [];
        let vectors = []; // Store vector lines
        
        // Initialize Random Cells
        function initCells() {
            cellsGroup.innerHTML = ''; // clear
            cells = [];
            vectors = [];
            
            // Create a group for vectors (lines) so they sit BEHIND the cells
            const vectorGroup = document.createElementNS("http://www.w3.org/2000/svg", "g");
            vectorGroup.id = "vectorGroup";
            cellsGroup.appendChild(vectorGroup);

            // Create a group for cells
            const dotsGroup = document.createElementNS("http://www.w3.org/2000/svg", "g");
            dotsGroup.id = "dotsGroup";
            cellsGroup.appendChild(dotsGroup);
            
            for(let i=0; i<numCells; i++) {
                // CONTROL STATE (Baseline)
                const controlX = 150 + (Math.random() - 0.5) * 100;
                const controlY = 200 + (Math.random() - 0.5) * 150;
                
                // DRUG A: EFFECTIVE (Shift entire population right and compress)
                // Matches CRISP's "Translation" in latent space
                const drugAX = 600 + (Math.random() - 0.5) * 60; 
                const drugAY = 200 + (Math.random() - 0.5) * 60;

                // DRUG B: RESISTANT (Bimodal Distribution)
                // Matches STATE's focus on heterogeneity/subpopulations
                // 70% stay near control (resistant), 30% move (sensitive)
                const isResistant = Math.random() > 0.3;
                const drugBX = isResistant ? (controlX + (Math.random()-0.5)*30) : (550 + (Math.random()-0.5)*80);
                const drugBY = isResistant ? (controlY + (Math.random()-0.5)*30) : (100 + (Math.random()-0.5)*80);

                const cellData = {
                    id: i,
                    control: { x: controlX, y: controlY, color: '#ccc' },
                    drugA:   { x: drugAX, y: drugAY, color: '#8FC50E' },
                    drugB:   { x: drugBX, y: drugBY, color: '#FF6B6B' }
                };
                
                cells.push(cellData);
                
                // 1. Create Vector Line (Hidden initially)
                const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
                line.setAttribute("x1", controlX);
                line.setAttribute("y1", controlY);
                line.setAttribute("x2", controlX); // Start length 0
                line.setAttribute("y2", controlY);
                line.setAttribute("stroke", "#ddd");
                line.setAttribute("stroke-width", "1");
                line.setAttribute("opacity", "0"); // Hidden in control
                line.id = `vec-${i}`;
                vectorGroup.appendChild(line);

                // 2. Create Cell Dot
                const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                circle.setAttribute("cx", cellData.control.x);
                circle.setAttribute("cy", cellData.control.y);
                circle.setAttribute("r", 5);
                circle.setAttribute("fill", cellData.control.color);
                circle.setAttribute("class", "cell-dot");
                circle.id = `cell-${i}`;
                dotsGroup.appendChild(circle);
            }
        }

        // Function to update state
        function setDemoState(state) {
            // Update Buttons
            document.querySelectorAll('.demo-btn').forEach(btn => btn.classList.remove('active'));
            
            if (state === 'control') document.querySelector('.btn-control').classList.add('active');
            else if (state === 'drugA') document.querySelector('.btn-drugA').classList.add('active');
            else if (state === 'drugB') document.querySelector('.btn-drugB').classList.add('active');
            
            // Animate Cells & Vectors
            cells.forEach(cell => {
                const target = cell[state];
                const dot = document.getElementById(`cell-${cell.id}`);
                const vec = document.getElementById(`vec-${cell.id}`);

                // Move Dot
                dot.setAttribute("cx", target.x);
                dot.setAttribute("cy", target.y);
                dot.setAttribute("fill", target.color);

                // Update Vector Logic
                if (state === 'control') {
                    // Hide vectors in control state
                    vec.setAttribute("opacity", "0");
                    vec.setAttribute("x2", cell.control.x);
                    vec.setAttribute("y2", cell.control.y);
                } else {
                    // Show vector connecting Origin (Control) to Destination (Drug)
                    // This visualizes the "CRISP" Delta Vector
                    vec.setAttribute("x1", cell.control.x);
                    vec.setAttribute("y1", cell.control.y);
                    vec.setAttribute("x2", target.x);
                    vec.setAttribute("y2", target.y);
                    vec.setAttribute("opacity", "1");
                    vec.style.transition = "x2 1s, y2 1s, opacity 0.5s";
                }
            });
        }

        // Initialize on load
        initCells();
    </script>
</body>
</html>